import matplotlib.pyplot as plt
import io 
import base64
from PIL import Image
import numpy as np 

def hash_image(df):
    fig, ax = plt.subplots()
    ax.scatter(df['x'], df['y'])

    # Save the figure to an in-memory bytes buffer in PNG format
    buf = io.BytesIO()
    plt.tight_layout()
    plt.savefig(buf, format='png', bbox_inches='tight')
    plt.close(fig)  # Close the figure to free resources
    buf.seek(0)     # Rewind the buffer to the beginning

    # Convert the image in the buffer to a base64 encoded string
    img_bytes = buf.getvalue()
    img_base64 = base64.b64encode(img_bytes).decode('utf-8')

    return img_base64

def unhash_image(img_base64):

    # decode pic_hash to png
    # Step 1: Decode the base64 hash back to bytes
    pic_bytes = base64.b64decode(img_base64)

    # Step 2: Convert bytes to an image using PIL
    image = Image.open(io.BytesIO(pic_bytes))

    return image

PROB = "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NcGWDwAAYElBh7qOjg7NnDlTO3bs6HdOQUGB3G63f3n11VevecxDhw5p7dq1qqmp0Z///GddvnxZixYtUkdHR8C8Rx99NOC4zz77bLDlAwAAWFLQ334tLCxUYWHhNeckJCTI4XAM+pjV1dUB67t27VJqaqqOHTumuXPn+sfHjRsX1HEBAACixbA8U3fw4EGlpqZqypQpKikp0fnz54Pa3+PxSJKSk5MDxl955RWNHz9e2dnZ2rx5sz777LN+j9HV1SWv1xuwAAAAWFXQV+oGUlBQoGXLlikjI0PNzc168sknVVhYqCNHjig2NnbA/X0+nzZs2KCvfvWrys7O9o8/+OCDmjRpklwulxoaGvTEE0/o+PHjeuONN/o8ztatW1VeXh6y3wUAABDJDNM0zSHvbBjas2ePlixZ0u+cv//978rMzNS+ffuUl5c34DFLSkr0n//5n3r33Xd188039zvvL3/5i/Ly8nTixAllZmb22t7V1aWuri7/utfrVVpamjwej5KSkgasAwAAIBJ4vV7Z7fYBM8ywtzSZPHmyxo8frxMnTgw4d926dXrrrbd04MCBawY6ScrJyZGkfo+bkJCgpKSkgAUAAMCqQn779YtOnz6t8+fPy+l09jvHNE2tX79ee/bs0cGDB5WRkTHgcevr6yXpmscFAACIFkGHuvb29oCrYy0tLaqvr1dycrKSk5NVXl6u5cuXy+FwqLm5WT/84Q916623Kj8/379PXl6eli5dqnXr1kmS1q5dq927d+sPf/iDEhMT1draKkmy2+0aO3asmpubtXv3bn3jG99QSkqKGhoatHHjRs2dO1czZsy43nMAAAAw6gUd6o4ePar58+f710tLSyVJxcXFqqioUENDg15++WVdvHhRLpdLixYt0tNPP62EhAT/Ps3NzTp37px/vaKiQtKVBsNX27lzp1atWqX4+Hjt27dP27dvV0dHh9LS0rR8+XI99dRTwZYPAABgSdf1osRoMtiHDAEAACJJxLwoAQAAgOFHqAMAALAAQh0AAIAFDHtLEwBAoG6fqdqWC2q71KnURJvmZCQrNsYId1kARjlCHQCMoOpGt8qrmuT2dPrHnHabyoqyVJBN300AQ8ftVwC4SrfP1JHm8/pD/ac60nxe3b7QNQiobnSrpLIuINBJUqunUyWVdapudIfsbwGIPlypA4D/M5xX0bp9psqr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3IcH5z18OPfhw7kPD877tUXNixIAAABWxpU6AAAACyDUAQAAWAChDgAAwAIIdQAAABZAqAMAALAAQl2IdHd3a8uWLcrIyNDYsWOVmZmpp59+esCP7yI4hw8fVlFRkVwulwzD0N69ewO2m6apn/zkJ3I6nRo7dqwWLFigjz76KDzFWsy1zv3ly5f1xBNPaPr06brhhhvkcrn0ne98R2fOnAlfwRYy0L/7q61Zs0aGYWj79u0jVp9VDea8f/DBB/rmN78pu92uG264QbNnz9apU6dGvliLGejct7e3a926dbr55ps1duxYZWVl6cUXXwxPsRGEUBci27ZtU0VFhV544QV98MEH2rZtm5599ln96le/CndpltLR0aGZM2dqx44dfW5/9tln9ctf/lIvvvii3n//fd1www3Kz89XZ2fnCFdqPdc695999pnq6uq0ZcsW1dXV6Y033tDx48f1zW9+MwyVWs9A/+577NmzRzU1NXK5XCNUmbUNdN6bm5t19913a+rUqTp48KAaGhq0ZcsW2Wy2Ea7UegY696WlpaqurlZlZaU++OADbdiwQevWrdObb745wpVGGBMhsXjxYnP16tUBY8uWLTMfeuihMFVkfZLMPXv2+Nd9Pp/pcDjMf/3Xf/WPXbx40UxISDBfffXVMFRoXV88932pra01JZknT54cmaKiRH/n/vTp0+aXvvQls7Gx0Zw0aZL53HPPjXhtVtbXeb/vvvvMFStWhKegKNLXuZ82bZr505/+NGBs1qxZ5o9//OMRrCzycKUuRL7yla9o//79+vDDDyVJ//Vf/6V3331XhYWFYa4serS0tKi1tVULFizwj9ntduXk5OjIkSNhrCw6eTweGYahm266KdylWJ7P59PKlSu1adMmTZs2LdzlRAWfz6c//vGPuu2225Sfn6/U1FTl5ORc89Y4QucrX/mK3nzzTX366acyTVMHDhzQhx9+qEWLFoW7tLAi1IXIj370I91///2aOnWqxowZo3/4h3/Qhg0b9NBDD4W7tKjR2toqSZo4cWLA+MSJE/3bMDI6Ozv1xBNP6IEHHlBSUlK4y7G8bdu2KS4uTo899li4S4kabW1tam9v1zPPPKOCggL96U9/0tKlS7Vs2TIdOnQo3OVZ3q9+9StlZWXp5ptvVnx8vAoKCrRjxw7NnTs33KWFVVy4C7CK1157Ta+88op2796tadOmqb6+Xhs2bJDL5VJxcXG4ywNGzOXLl/VP//RPMk1TFRUV4S7H8o4dO6bnn39edXV1Mgwj3OVEDZ/PJ0m69957tXHjRknSHXfcoffee08vvvii5s2bF87yLO9Xv/qVampq9Oabb2rSpEk6fPiw1q5dK5fLFXC3JtoQ6kJk06ZN/qt1kjR9+nSdPHlSW7duJdSNEIfDIUk6e/asnE6nf/zs2bO64447wlRVdOkJdCdPntRf/vIXrtKNgHfeeUdtbW1KT0/3j3V3d+vxxx/X9u3b9fHHH4evOAsbP3684uLilJWVFTB+++2369133w1TVdHhf//3f/Xkk09qz549Wrx4sSRpxowZqq+v17/9279Fdajj9muIfPbZZ4qJCTydsbGx/v83h+GXkZEhh8Oh/fv3+8e8Xq/ef/995ebmhrGy6NAT6D766CPt27dPKSkp4S4pKqxcuVINDQ2qr6/3Ly6XS5s2bdLbb78d7vIsKz4+XrNnz9bx48cDxj/88ENNmjQpTFVFh8uXL+vy5cv8b24fuFIXIkVFRfqXf/kXpaena9q0afrb3/6mX/ziF1q9enW4S7OU9vZ2nThxwr/e0tKi+vp6JScnKz09XRs2bNDPfvYzffnLX1ZGRoa2bNkil8ulJUuWhK9oi7jWuXc6nfrWt76luro6vfXWW+ru7vY/x5icnKz4+PhwlW0JA/27/2KAHjNmjBwOh6ZMmTLSpVrKQOd906ZNuu+++zR37lzNnz9f1dXVqqqq0sGDB8NXtEUMdO7nzZunTZs2aezYsZo0aZIOHTqk3/72t/rFL34RxqojQLhfv7UKr9drfv/73zfT09NNm81mTp482fzxj39sdnV1hbs0Szlw4IApqddSXFxsmuaVtiZbtmwxJ06caCYkJJh5eXnm8ePHw1u0RVzr3Le0tPS5TZJ54MCBcJc+6g307/6LaGkSGoM57y+99JJ56623mjabzZw5c6a5d+/e8BVsIQOde7fbba5atcp0uVymzWYzp0yZYv785z83fT5feAsPM8M0+eQBAADAaMczdQAAABZAqAMAALAAQh0AAIAFEOoAAAAsgFAHAABgAYQ6AAAACyDUAQAAWAChDgAAwAIIdQAAABZAqAMAALAAQh0AAIAF/D+ZhvlGtEt+ZQAAAABJRU5ErkJggg=="

def decode_base64_and_plot(base64_str, save=True):
    # # Decode the base64 string
    # img_data = base64.b64decode(base64_str)

    # # Create a BytesIO object from the decoded data
    # img_buffer = io.BytesIO(img_data)

    # # Read the image from the buffer and display it
    # img = plt.imread(img_buffer)
    # plt.imshow(img)
    # plt.axis('off')  # Hide axes
    # plt.show()
    # if save: 
    #     # plt.tight_layout()
    #     # Save the image to a file
    #     fig.savefig('images/cluster_ex.pdf', dpi=300, bbox_inches='tight')

    # Decode the base64 string
    img_data = base64.b64decode(base64_str)

    # Create a BytesIO object from the decoded data
    img_buffer = io.BytesIO(img_data)

    # Read the image from the buffer
    img = plt.imread(img_buffer)

    # Create a figure and axis
    fig, ax = plt.subplots()
    ax.imshow(img)
    ax.axis('off')  # Hide axes

    # if save:
    #     # Save the image to a file
    #     fig.savefig('images/blank.pdf', dpi=300, bbox_inches='tight')

    plt.show()

# decode_base64_and_plot(PROB, save=False)